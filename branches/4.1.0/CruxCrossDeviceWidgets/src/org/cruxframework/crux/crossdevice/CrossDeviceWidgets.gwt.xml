<module>
	<inherits name='org.cruxframework.crux.core.Crux'/>
	<inherits name='org.cruxframework.crux.gwt.CruxGWTWidgets'/>
	<inherits name='org.cruxframework.crux.widgets.CruxWidgets'/>
	<inherits name='org.cruxframework.crux.widgets.CruxWidgets'/>
	<inherits name='org.cruxframework.crux.crossdevice.themes.standard.Standard'/>

	<property-provider name="device.features" generator="org.cruxframework.crux.core.rebind.crossdevice.DeviceFeaturesPropertyGenerator" /> 

	<extend-property name="device.features" values="largeDisplayTouch" fallback-value="largeDisplayMouse" />
	<extend-property name="device.features" values="largeDisplayArrows" fallback-value="largeDisplayMouse" />
	<extend-property name="device.features" values="smallDisplayArrows" fallback-value="largeDisplayMouse" />
	<extend-property name="device.features" values="smallDisplayTouch" fallback-value="smallDisplayArrows" />

	<!-- LabeledTextBox  placeHolder attribute -->
	<replace-with class="org.cruxframework.crux.crossdevice.client.labeledtextbox.LabeledTextBoxController.JSPlaceHolder">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.labeledtextbox.LabeledTextBoxController.LabeledTextBoxHandler" />
		<any>
			<when-property-is name="user.agent" value="ie6" />
			<when-property-is name="user.agent" value="ie8" />
			<when-property-is name="user.agent" value="ie9" />
		</any>
	</replace-with>

	<replace-with class="org.cruxframework.crux.crossdevice.client.labeledtextbox.LabeledTextBoxController.HTMLPlaceHolder">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.labeledtextbox.LabeledTextBoxController.LabeledTextBoxHandler" />
		<none>
			<when-property-is name="user.agent" value="ie6" />
			<when-property-is name="user.agent" value="ie8" />
			<when-property-is name="user.agent" value="ie9" />
		</none>
	</replace-with>

    <!-- TopToolBar panel animation handler -->
	<replace-with class="org.cruxframework.crux.crossdevice.client.toptoolbar.TopToolBarArrowsSmallController.WebkitPanelAnimation">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.toptoolbar.TopToolBarArrowsSmallController.PanelAnimation" />
		<any>
			<when-property-is name="user.agent" value="safari" />
		</any>
	</replace-with>
	<replace-with class="org.cruxframework.crux.crossdevice.client.toptoolbar.TopToolBarArrowsSmallController.JSPanelAnimation">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.toptoolbar.TopToolBarArrowsSmallController.PanelAnimation" />
    	<none>
      		<when-property-is name="user.agent" value="safari" />
    	</none>
	</replace-with>

    <!-- TopToolBar panel touch handler -->
	<replace-with class="org.cruxframework.crux.crossdevice.client.toptoolbar.TopToolBarTouchSmallController.WebkitGripHandler">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.toptoolbar.TopToolBarTouchSmallController.GripHandler" />
		<any>
			<when-property-is name="user.agent" value="safari" />
		</any>
	</replace-with>
	
	<!-- Button  -->
	<replace-with class="org.cruxframework.crux.crossdevice.client.button.Button.ButtonNoTouchImpl">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.button.Button.ButtonImpl" />
		<none>
			<when-property-is name="device.features" value="smallDisplayTouch" />
			<when-property-is name="device.features" value="largeDisplayTouch" />
		</none>
	</replace-with>
	<replace-with class="org.cruxframework.crux.crossdevice.client.button.Button.ButtonTouchImpl">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.button.Button.ButtonImpl" />
		<any>
			<when-property-is name="device.features" value="smallDisplayTouch" />
			<when-property-is name="device.features" value="largeDisplayTouch" />
		</any>
	</replace-with>

	<!-- PromoBanner  -->
	<replace-with class="org.cruxframework.crux.crossdevice.client.promobanner.PromoBanner.BannerImplLargeNoTouch">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.promobanner.PromoBanner.BannerImpl" />
		<any>
			<when-property-is name="device.features" value="largeDisplayArrows" />
			<when-property-is name="device.features" value="largeDisplayMouse" />
		</any>
	</replace-with>
	<replace-with class="org.cruxframework.crux.crossdevice.client.promobanner.PromoBanner.BannerImplSmallNoTouch">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.promobanner.PromoBanner.BannerImpl" />
		<any>
			<when-property-is name="device.features" value="smallDisplayArrows" />
		</any>
	</replace-with>
	<replace-with class="org.cruxframework.crux.crossdevice.client.promobanner.PromoBanner.BannerImplSmallTouch">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.promobanner.PromoBanner.BannerImpl" />
		<any>
			<when-property-is name="device.features" value="smallDisplayTouch" />
		</any>
	</replace-with>
	<replace-with class="org.cruxframework.crux.crossdevice.client.promobanner.PromoBanner.BannerImplLargeTouch">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.promobanner.PromoBanner.BannerImpl" />
		<any>
			<when-property-is name="device.features" value="largeDisplayTouch" />
		</any>
	</replace-with>

	<!-- SelectablePanel  -->
	<replace-with class="org.cruxframework.crux.crossdevice.client.selectablepanel.SelectablePanel.PanelEventsHandlerNoTouchImpl">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.selectablepanel.SelectablePanel.PanelEventsHandler" />
		<none>
			<when-property-is name="device.features" value="smallDisplayTouch" />
			<when-property-is name="device.features" value="largeDisplayTouch" />
		</none>
	</replace-with>
	<replace-with class="org.cruxframework.crux.crossdevice.client.selectablepanel.SelectablePanel.PanelEventsHandlerTouchImpl">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.selectablepanel.SelectablePanel.PanelEventsHandler" />
		<any>
			<when-property-is name="device.features" value="smallDisplayTouch" />
			<when-property-is name="device.features" value="largeDisplayTouch" />
		</any>
	</replace-with>

    <!-- Sideshow -->
	<replace-with class="org.cruxframework.crux.crossdevice.client.slideshow.SlideshowPhotoPanel.SlideshowSwapPhotoPanel">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.slideshow.SlideshowPhotoPanel.SlideshowPhotoPanelImpl" />
		<none>
			<when-property-is name="device.features" value="smallDisplayTouch" />
			<when-property-is name="device.features" value="largeDisplayTouch" />
		</none>
	</replace-with>
	<replace-with class="org.cruxframework.crux.crossdevice.client.slideshow.SlideshowPhotoPanel.SlideshowTouchPhotoPanel">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.slideshow.SlideshowPhotoPanel.SlideshowPhotoPanelImpl" />
		<any>
			<when-property-is name="device.features" value="smallDisplayTouch" />
			<when-property-is name="device.features" value="largeDisplayTouch" />
		</any>
	</replace-with>
	<replace-with class="org.cruxframework.crux.crossdevice.client.slideshow.SlideshowThumbnails.ThumbnailsNoTouchImpl">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.slideshow.SlideshowThumbnails.SlideshowThumbnailsImpl" />
		<none>
			<when-property-is name="device.features" value="smallDisplayTouch" />
			<when-property-is name="device.features" value="largeDisplayTouch" />
		</none>
	</replace-with>
	<replace-with class="org.cruxframework.crux.crossdevice.client.slideshow.SlideshowThumbnails.ThumbnailsTouchImpl">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.slideshow.SlideshowThumbnails.SlideshowThumbnailsImpl" />
		<any>
			<when-property-is name="device.features" value="smallDisplayTouch" />
			<when-property-is name="device.features" value="largeDisplayTouch" />
		</any>
	</replace-with>
	<replace-with class="org.cruxframework.crux.crossdevice.client.slideshow.layout.ClassicLayout.MobileImpl">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.slideshow.layout.ClassicLayout.Impl" />
		<any>
			<when-property-is name="device.features" value="smallDisplayTouch" />
			<when-property-is name="device.features" value="smallDisplayArrows" />
		</any>
	</replace-with>
	
    <!-- RollingPanel -->
	<replace-with class="org.cruxframework.crux.crossdevice.client.rollingpanel.RollingPanelNoTouchImpl">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.rollingpanel.RollingPanel.PanelImplementation" />
		<none>
			<when-property-is name="device.features" value="smallDisplayTouch" />
			<when-property-is name="device.features" value="largeDisplayTouch" />
		</none>
	</replace-with>
	<replace-with class="org.cruxframework.crux.crossdevice.client.rollingpanel.RollingPanelTouchImpl">
		<when-type-assignable class="org.cruxframework.crux.crossdevice.client.rollingpanel.RollingPanel.PanelImplementation" />
		<any>
			<when-property-is name="device.features" value="smallDisplayTouch" />
			<when-property-is name="device.features" value="largeDisplayTouch" />
		</any>
	</replace-with>
	
</module>